# DFK crontab (CS server)
SHELL=/bin/bash
PATH=/usr/bin:/bin:/usr/sbin:/usr/local/bin:/u/dfk/scripts/common:/u/dfk/scripts/cs
MAILTO=David.F.Kotz@Dartmouth.edu
MAILFROM=David.F.Kotz@dartmouth.edu

TERM=VT100

# SCRIPTS, LIB, CRONTABS
# mm hh day month weekday command
# pull updates into lib and scripts once a day
00 09 * * * cd projects/kotz-bin-lib && git pull -q
# don't forget my crontab
20 05 * * * crontab -l > /u/dfk/lib/cs/crontab-flume
25 05 * * * cd /u/dfk/lib/cs && git-commit-quietly "crontab" crontab-flume

# WEBSITE
# mm hh day month weekday command
# Update my website, hourly
55 * * * * update-web -q

# MAIL
# mm hh day month weekday command
# save a copy of my mailing lists, every night.
00 1 * * * find /net/quimby/other-lists -user dfk -exec rsync -a '{}' /u/dfk/lib/cs/maillist/ \;
05 1 * * * cd /u/dfk/lib/cs && git-commit-quietly "crontab maillist" maillist
# rotate my procmail logs
10 00 * * * logrotate -s /u/dfk/.procmail/logrotate.status /u/dfk/.procmail/logrotate

# TECH REPORTS
# mm hh day month weekday command
# bi-monthly mailing of TR digest
00 06 1 2,4,6,8,10,12 *  /u/trdata/TRdata/send-digest
# backup any changes to the TR database
01 04 * * * tr-backup
# Check weekly for old, pending TR assignments 
02 06 * * 1 find /u/trdata/TRdata/pending -mtime +7 -name \*.xbib -print | xargs grep -H REQUESTED-

# BIBLIO
# Kotzgroup, THaW, Amulet, Auracle
# update bibliographies, every day
# mm hh day month weekday command
02 12 * * * cd /u/dfk/projects/bib-kotzgroup    &&    bib-mendeley/bin/cron.sh bib-mendeley/group/kotzgroup kotzgroup.bib
04 12 * * * cd /u/dfk/projects/thaw-papers      &&    bib-mendeley/bin/cron.sh user-thaw.json thaw.bib
06 12 * * * cd /u/dfk/projects/amulet-docs/web  && ../bib-mendeley/bin/cron.sh user-amulet.json amulet.bib
08 12 * * * cd /u/dfk/projects/auracle-docs/web && ../bib-mendeley/bin/cron.sh user-auracle.json auracle.bib

###################################################
# GIT and SVN REPOs
# mm hh day month weekday command

# track what repos exist in kotzgroup on GitHub
00 3 * * * cd /u/dfk/lib/cs && repolist.py > repolist && git-commit-quietly "crontab" repolist

# pull a copy of our bitbucket repos, every night
# 00 4 * * * sh /net/kotz/projects-no-backup/clone-repos-bitbucket/gitpull-cron.sh

# pull a copy of our svn repos, every night
00 4 * * * sh /net/kotz/projects-no-backup/clone-repos-svn/svnupdate-cron.sh

# pull a copy of our gitlab repos, every night
# 14 4 * * * sh /net/kotz/projects-no-backup/clone-repos-gitlab/gitpull-cron.sh

# track new branches on our github repos, every night
24 4 * * * sh /net/kotz/projects-no-backup/clone-repos-github/gitpull-track.sh

# pull a copy of our github repos, every night
34 4 * * * sh /net/kotz/projects-no-backup/clone-repos-github/gitpull-cron.sh

